from xml.dom import minidom
import os,re
page_source='''<?xml version="1.0" encoding="UTF-8"?><hierarchy rotation="0"><android.widget.FrameLayout index="0" text="" class="android.widget.FrameLayout" package="com.wenba.bangbang" content-desc="" checkable="false" checked="false" clickable="false" enabled="true" focusable="false" focused="false" scrollable="false" long-clickable="false" password="false" selected="false" bounds="[0,75][1080,1920]" resource-id="" instance="0"><android.widget.FrameLayout index="0" text="" class="android.widget.FrameLayout" package="com.wenba.bangbang" content-desc="" checkable="false" checked="false" clickable="false" enabled="true" focusable="false" focused="false" scrollable="false" long-clickable="false" password="false" selected="false" bounds="[0,75][1080,1920]" resource-id="" instance="1"><android.widget.FrameLayout index="0" text="" class="android.widget.FrameLayout" package="com.wenba.bangbang" content-desc="" checkable="false" checked="false" clickable="false" enabled="true" focusable="false" focused="false" scrollable="false" long-clickable="false" password="false" selected="false" bounds="[0,75][1080,1920]" resource-id="android:id/content" instance="2"><android.widget.FrameLayout index="0" text="" class="android.widget.FrameLayout" package="com.wenba.bangbang" content-desc="" checkable="false" checked="false" clickable="true" enabled="true" focusable="false" focused="false" scrollable="false" long-clickable="false" password="false" selected="false" bounds="[0,75][1080,1920]" resource-id="com.wenba.bangbang:id/comm_pic_dialog_root" instance="3"><android.widget.LinearLayout index="0" text="" class="android.widget.LinearLayout" package="com.wenba.bangbang" content-desc="" checkable="false" checked="false" clickable="false" enabled="true" focusable="false" focused="false" scrollable="false" long-clickable="false" password="false" selected="false" bounds="[120,517][960,1478]" resource-id="com.wenba.bangbang:id/comm_pic_dialog_content" instance="0"><android.widget.ImageView index="0" text="" class="android.widget.ImageView" package="com.wenba.bangbang" content-desc="" checkable="false" checked="false" clickable="false" enabled="true" focusable="false" focused="false" scrollable="false" long-clickable="false" password="false" selected="false" bounds="[120,517][960,1027]" resource-id="com.wenba.bangbang:id/comm_pic_dialog_bg_iv" instance="0"/><android.widget.RelativeLayout index="1" text="" class="android.widget.RelativeLayout" package="com.wenba.bangbang" content-desc="" checkable="false" checked="false" clickable="false" enabled="true" focusable="false" focused="false" scrollable="false" long-clickable="false" password="false" selected="false" bounds="[120,1027][960,1331]" resource-id="com.wenba.bangbang:id/comm_pic_dialog_content_layout" instance="0"><android.widget.TextView index="0" text="学霸放新招" class="android.widget.TextView" package="com.wenba.bangbang" content-desc="" checkable="false" checked="false" clickable="false" enabled="true" focusable="false" focused="false" scrollable="false" long-clickable="false" password="false" selected="false" bounds="[180,1087][900,1167]" resource-id="com.wenba.bangbang:id/comm_pic_dialog_title" instance="0"/><android.widget.TextView index="1" text="1、V5.0.0验证升级更新提示" class="android.widget.TextView" package="com.wenba.bangbang" content-desc="" checkable="false" checked="false" clickable="false" enabled="true" focusable="false" focused="false" scrollable="false" long-clickable="false" password="false" selected="false" bounds="[180,1197][900,1271]" resource-id="com.wenba.bangbang:id/comm_pic_dialog_message" instance="1"/></android.widget.RelativeLayout><android.view.View index="2" text="" class="android.view.View" package="com.wenba.bangbang" content-desc="" checkable="false" checked="false" clickable="false" enabled="true" focusable="false" focused="false" scrollable="false" long-clickable="false" password="false" selected="false" bounds="[120,1331][960,1334]" resource-id="com.wenba.bangbang:id/comm_pic_divider_horizon_view" instance="0"/><android.widget.LinearLayout index="3" text="" class="android.widget.LinearLayout" package="com.wenba.bangbang" content-desc="" checkable="false" checked="false" clickable="false" enabled="true" focusable="false" focused="false" scrollable="false" long-clickable="false" password="false" selected="false" bounds="[120,1334][960,1478]" resource-id="com.wenba.bangbang:id/comm_pic_buttons_layout" instance="1"><android.widget.Button index="0" text="取消" class="android.widget.Button" package="com.wenba.bangbang" content-desc="" checkable="false" checked="false" clickable="true" enabled="true" focusable="true" focused="false" scrollable="false" long-clickable="false" password="false" selected="false" bounds="[120,1334][538,1478]" resource-id="com.wenba.bangbang:id/comm_pic_dialog_left_btn" instance="0"/><android.view.View index="1" text="" class="android.view.View" package="com.wenba.bangbang" content-desc="" checkable="false" checked="false" clickable="false" enabled="true" focusable="false" focused="false" scrollable="false" long-clickable="false" password="false" selected="false" bounds="[538,1376][541,1436]" resource-id="com.wenba.bangbang:id/comm_pic_divider_view" instance="1"/><android.widget.Button index="2" text="更新" class="android.widget.Button" package="com.wenba.bangbang" content-desc="" checkable="false" checked="false" clickable="true" enabled="true" focusable="true" focused="false" scrollable="false" long-clickable="false" password="false" selected="false" bounds="[541,1334][960,1478]" resource-id="com.wenba.bangbang:id/comm_pic_dialog_right_btn" instance="1"/></android.widget.LinearLayout></android.widget.LinearLayout></android.widget.FrameLayout></android.widget.FrameLayout></android.widget.FrameLayout></android.widget.FrameLayout></hierarchy>'''
page_source=re.sub("[\x00-\x08\x0b-\x0c\x0e-\x1f-\xa0]+",u"",page_source)
print (page_source)

root=minidom.parseString(page_source).documentElement
def hh(root):
	for i,node in enumerate([n for n in root.childNodes if n.nodeName !="#text"]):
		print (node.nodeName)
		print (node.getAttribute('resourceid'))
		print ('='*20)
		hh(node)
hh(root)
